# V2.2 å¼€å‘è®¡åˆ’

**ç‰ˆæœ¬**: V2.2
**å¼€å§‹æ—¥æœŸ**: 2025-12-10
**é¢„è®¡å®Œæˆ**: 2025-12-24 (2å‘¨)
**å¼€å‘é‡ç‚¹**: å†…å®¹å¢å¼º + æ•°æ®å¯è§†åŒ–

---

## ğŸ¯ ç‰ˆæœ¬ç›®æ ‡

V2.2ä¸“æ³¨äº**å†…å®¹è´¨é‡æå‡**å’Œ**å­¦ä¹ æ•°æ®æ´å¯Ÿ**ï¼Œé€šè¿‡çœŸå®ä¾‹å¥å’Œæ•°æ®å¯è§†åŒ–å¸®åŠ©ç”¨æˆ·æ›´æœ‰æ•ˆåœ°å­¦ä¹ å’Œç†è§£è‡ªå·±çš„è¿›æ­¥ã€‚

### æ ¸å¿ƒä»·å€¼ä¸»å¼ 
1. **çœŸå®ä¾‹å¥** â†’ å•è¯åœ¨çœŸå®è¯­å¢ƒä¸­çš„ä½¿ç”¨ â†’ è®°å¿†æ›´æ·±åˆ»
2. **æ•°æ®å¯è§†åŒ–** â†’ å­¦ä¹ è¶‹åŠ¿ä¸€ç›®äº†ç„¶ â†’ è°ƒæ•´å­¦ä¹ ç­–ç•¥
3. **ç›®æ ‡è®¾ç½®** â†’ ä¸ªæ€§åŒ–å­¦ä¹ èŠ‚å¥ â†’ æé«˜å­¦ä¹ æ•ˆç‡

---

## â­ æ ¸å¿ƒåŠŸèƒ½ (3ä¸ª)

### 1. çœŸå®ä¾‹å¥å­¦ä¹ ç³»ç»Ÿ â­â­â­â­â­

**ä¼˜å…ˆçº§**: P0 - æœ€é«˜ä¼˜å…ˆçº§

**ç”¨æˆ·ä»·å€¼**:
- åœ¨çœŸå®è¯­å¢ƒä¸­ç†è§£å•è¯ç”¨æ³•
- æé«˜è®°å¿†æ•ˆæœ 3-5å€
- å­¦ä¹ åœ°é“è¡¨è¾¾æ–¹å¼

**åŠŸèƒ½ç‰¹æ€§**:
1. **ä¾‹å¥å±•ç¤º**
   - æ¯ä¸ªå•è¯2-3ä¸ªçœŸå®ä¾‹å¥
   - ä¸­è‹±å¯¹ç…§æ˜¾ç¤º
   - æ¥æºæ ‡æ³¨ï¼ˆç”µå½±/æ–°é—»/æ–‡å­¦/æ—¥å¸¸å¯¹è¯ï¼‰
   - é«˜äº®æ˜¾ç¤ºç›®æ ‡å•è¯

2. **éŸ³é¢‘æ’­æ”¾**
   - é›†æˆWeb Speech API
   - TTSè¯­éŸ³æœ—è¯»ä¾‹å¥
   - å¯è°ƒèŠ‚æ’­æ”¾é€Ÿåº¦ï¼ˆ0.75x/1x/1.25xï¼‰
   - ç¾éŸ³/è‹±éŸ³åˆ‡æ¢

3. **ä¾‹å¥å­¦ä¹ æ¨¡å¼**
   - åœ¨å•è¯è¯¦æƒ…é¡µæ˜¾ç¤ºä¾‹å¥
   - åœ¨ç»ƒä¹ ç»“æœé¡µæ˜¾ç¤ºä¾‹å¥
   - ç‹¬ç«‹çš„ä¾‹å¥å­¦ä¹ æ¨¡å—

**æ•°æ®ç»“æ„**:
```javascript
// Supabase: example_sentences è¡¨
{
  id: uuid,
  word_id: string,           // å…³è”å•è¯
  sentence_en: string,        // è‹±æ–‡ä¾‹å¥
  sentence_zh: string,        // ä¸­æ–‡ç¿»è¯‘
  source_type: string,        // æ¥æºç±»å‹: movie/news/literature/daily
  source_name: string,        // å…·ä½“æ¥æºåç§°
  difficulty_level: integer,  // éš¾åº¦ç­‰çº§: 1-5
  usage_count: integer,       // ä½¿ç”¨é¢‘ç‡
  created_at: timestamp
}
```

**å®ç°æ­¥éª¤**:
1. âœ… åˆ›å»ºæ•°æ®åº“è¡¨ `example_sentences`
2. âœ… å‡†å¤‡50ä¸ªé«˜é¢‘å•è¯çš„ä¾‹å¥æ•°æ®ï¼ˆå…ˆæœŸè¯•ç‚¹ï¼‰
3. âœ… åˆ›å»º `ExampleSentenceService.js` æœåŠ¡å±‚
4. âœ… åœ¨å•è¯è¯¦æƒ…é¡µé›†æˆä¾‹å¥å±•ç¤º
5. âœ… å®ç°TTSè¯­éŸ³æ’­æ”¾åŠŸèƒ½
6. âœ… æ·»åŠ ä¾‹å¥å­¦ä¹ UIæ ·å¼
7. âœ… æ‰©å±•åˆ°200ä¸ªå•è¯çš„ä¾‹å¥åº“

**é¢„è®¡å·¥ä½œé‡**: 600 lines + æ•°æ®å‡†å¤‡

---

### 2. å­¦ä¹ æ•°æ®å¯è§†åŒ–å›¾è¡¨ â­â­â­â­â­

**ä¼˜å…ˆçº§**: P0 - æœ€é«˜ä¼˜å…ˆçº§

**ç”¨æˆ·ä»·å€¼**:
- ç›´è§‚çœ‹åˆ°å­¦ä¹ è¶‹åŠ¿
- å‘ç°å­¦ä¹ è§„å¾‹å’Œè–„å¼±ç¯èŠ‚
- æ•°æ®é©±åŠ¨çš„å­¦ä¹ å†³ç­–

**åŠŸèƒ½ç‰¹æ€§**:
1. **æ¯å‘¨å­¦ä¹ æ›²çº¿å›¾**
   - è¿‡å»7å¤©æ¯å¤©å­¦ä¹ çš„å•è¯æ•°
   - æŠ˜çº¿å›¾å±•ç¤ºè¶‹åŠ¿
   - æ˜¾ç¤ºå¹³å‡å€¼å’Œç›®æ ‡çº¿

2. **æ­£ç¡®ç‡è¶‹åŠ¿å›¾**
   - è¿‡å»30å¤©çš„ç­”é¢˜æ­£ç¡®ç‡
   - é¢ç§¯å›¾å±•ç¤ºå˜åŒ–
   - æ ‡æ³¨é‡è¦é‡Œç¨‹ç¢‘

3. **å­¦ä¹ æ—¶æ®µçƒ­åŠ›å›¾**
   - ä¸€å‘¨7å¤© Ã— 24å°æ—¶çš„å­¦ä¹ åˆ†å¸ƒ
   - çƒ­åŠ›å›¾æ˜¾ç¤ºæ´»è·ƒæ—¶æ®µ
   - å¸®åŠ©å®‰æ’æœ€ä½³å­¦ä¹ æ—¶é—´

4. **å•è¯æŒæ¡åº¦é¥¼å›¾**
   - V2.1å·²æœ‰çš„5çº§ç†Ÿç»ƒåº¦
   - ç”¨Chart.jsé‡æ–°æ¸²æŸ“ä¸ºäº¤äº’å¼é¥¼å›¾
   - å¯ç‚¹å‡»é’»å–åˆ°è¯¦ç»†æ•°æ®

**æŠ€æœ¯é€‰å‹**:
- **Chart.js** v4.4.0
  - è½»é‡çº§ (60KB gzipped)
  - å“åº”å¼è®¾è®¡
  - åŠ¨ç”»æµç•…
  - æ˜“äºå®šåˆ¶

**å®ç°æ­¥éª¤**:
1. âœ… æ·»åŠ  Chart.js CDN
2. âœ… åˆ›å»º `ChartService.js` å°è£…å›¾è¡¨é€»è¾‘
3. âœ… åœ¨ç”¨æˆ·ä¸­å¿ƒæ·»åŠ "æ•°æ®åˆ†æ"æ ‡ç­¾é¡µ
4. âœ… å®ç°å­¦ä¹ æ›²çº¿å›¾
5. âœ… å®ç°æ­£ç¡®ç‡è¶‹åŠ¿å›¾
6. âœ… å®ç°æ—¶æ®µçƒ­åŠ›å›¾
7. âœ… æ”¹é€ ç†Ÿç»ƒåº¦åˆ†å¸ƒä¸ºé¥¼å›¾
8. âœ… æ·»åŠ å›¾è¡¨å“åº”å¼é€‚é…

**é¢„è®¡å·¥ä½œé‡**: 800 lines

---

### 3. ç›®æ ‡è®¾ç½®ç•Œé¢ â­â­â­â­

**ä¼˜å…ˆçº§**: P1 - é«˜ä¼˜å…ˆçº§

**ç”¨æˆ·ä»·å€¼**:
- ä¸ªæ€§åŒ–å­¦ä¹ èŠ‚å¥
- é€‚åº”ä¸åŒç”¨æˆ·çš„æ—¶é—´å®‰æ’
- æé«˜ç›®æ ‡å®Œæˆç‡

**åŠŸèƒ½ç‰¹æ€§**:
1. **ç›®æ ‡è®¾ç½®æ¨¡æ€æ¡†**
   - 4ä¸ªé¢„è®¾é€‰é¡¹: 10/20/30/50 è¯/å¤©
   - è‡ªå®šä¹‰è¾“å…¥æ¡† (5-100è¯)
   - æ˜¾ç¤ºé¢„è®¡å­¦ä¹ æ—¶é—´
   - ç›®æ ‡æ¨èç®—æ³•

2. **æ™ºèƒ½æ¨è**
   - åŸºäºå†å²å®Œæˆç‡æ¨èç›®æ ‡
   - é¦–æ¬¡ç”¨æˆ·æ¨è20è¯
   - è¿ç»­å®Œæˆ7å¤© â†’ æ¨èæé«˜10è¯
   - è¿ç»­æœªå®Œæˆ3å¤© â†’ æ¨èé™ä½10è¯

3. **ç›®æ ‡å†å²è¿½è¸ª**
   - æ˜¾ç¤ºè¿‡å»çš„ç›®æ ‡è°ƒæ•´è®°å½•
   - æ˜¾ç¤ºæ¯ä¸ªç›®æ ‡çš„å®Œæˆç‡
   - ç›®æ ‡è¾¾æˆç»Ÿè®¡

**UIè®¾è®¡**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è®¾ç½®æ¯æ—¥å­¦ä¹ ç›®æ ‡               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  â”‚
â”‚  [è½»æ¾æ¨¡å¼]  [æ ‡å‡†æ¨¡å¼]          â”‚
â”‚   10è¯/å¤©     20è¯/å¤©   âœ“        â”‚
â”‚   çº¦5åˆ†é’Ÿ     çº¦10åˆ†é’Ÿ           â”‚
â”‚                                  â”‚
â”‚  [è¿›é˜¶æ¨¡å¼]  [æŒ‘æˆ˜æ¨¡å¼]          â”‚
â”‚   30è¯/å¤©     50è¯/å¤©            â”‚
â”‚   çº¦15åˆ†é’Ÿ    çº¦25åˆ†é’Ÿ           â”‚
â”‚                                  â”‚
â”‚  è‡ªå®šä¹‰: [____] è¯/å¤©            â”‚
â”‚                                  â”‚
â”‚  ğŸ’¡ å»ºè®®: æ ¹æ®æ‚¨è¿‡å»7å¤©çš„å®Œæˆ    â”‚
â”‚     æƒ…å†µ,æ¨èè®¾ç½®ä¸º 25 è¯/å¤©     â”‚
â”‚                                  â”‚
â”‚     [å–æ¶ˆ]        [ä¿å­˜]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®ç°æ­¥éª¤**:
1. âœ… åœ¨é¦–é¡µæ¯æ—¥ç›®æ ‡å°éƒ¨ä»¶æ·»åŠ "è®¾ç½®"æŒ‰é’®
2. âœ… åˆ›å»ºç›®æ ‡è®¾ç½®æ¨¡æ€æ¡†UI
3. âœ… å®ç°ç›®æ ‡æ¨èç®—æ³•
4. âœ… ä¿å­˜ç›®æ ‡åˆ° `user_profiles.daily_goal`
5. âœ… æ·»åŠ ç›®æ ‡å†å²è®°å½•åŠŸèƒ½
6. âœ… åœ¨ç”¨æˆ·ä¸­å¿ƒæ˜¾ç¤ºç›®æ ‡ç»Ÿè®¡

**é¢„è®¡å·¥ä½œé‡**: 400 lines

---

## ğŸ“Š æ•°æ®åº“Schemaæ›´æ–°

### æ–°å¢è¡¨: example_sentences

```sql
-- ä¾‹å¥è¡¨
CREATE TABLE example_sentences (
  id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
  word_id VARCHAR(100) NOT NULL,
  sentence_en TEXT NOT NULL,
  sentence_zh TEXT NOT NULL,
  source_type VARCHAR(50) NOT NULL, -- movie/news/literature/daily
  source_name VARCHAR(200),
  difficulty_level INT DEFAULT 3 CHECK (difficulty_level BETWEEN 1 AND 5),
  usage_count INT DEFAULT 0,
  created_at TIMESTAMP DEFAULT NOW()
);

-- ç´¢å¼•
CREATE INDEX idx_example_sentences_word_id ON example_sentences(word_id);
CREATE INDEX idx_example_sentences_source ON example_sentences(source_type);

-- ç¤ºä¾‹æ•°æ®
INSERT INTO example_sentences (word_id, sentence_en, sentence_zh, source_type, source_name) VALUES
('hello', 'Hello, how are you doing today?', 'ä½ å¥½ï¼Œä½ ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·ï¼Ÿ', 'daily', 'æ—¥å¸¸å¯¹è¯'),
('hello', 'She said hello and walked away.', 'å¥¹æ‰“äº†ä¸ªæ‹›å‘¼å°±èµ°å¼€äº†ã€‚', 'literature', 'ã€Šç®€çˆ±ã€‹'),
('world', 'Welcome to the world of programming.', 'æ¬¢è¿æ¥åˆ°ç¼–ç¨‹çš„ä¸–ç•Œã€‚', 'news', 'TechCrunch');
```

### æ–°å¢è¡¨: goal_history

```sql
-- ç›®æ ‡å†å²è®°å½•è¡¨
CREATE TABLE goal_history (
  id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  old_goal INT,
  new_goal INT NOT NULL,
  change_reason VARCHAR(100), -- user_set/auto_recommend/milestone
  created_at TIMESTAMP DEFAULT NOW()
);

-- ç´¢å¼•
CREATE INDEX idx_goal_history_user_id ON goal_history(user_id);
CREATE INDEX idx_goal_history_created_at ON goal_history(created_at DESC);
```

---

## ğŸ—‚ï¸ æ–‡ä»¶ç»“æ„

```
prototype/
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ ExampleSentenceService.js   âœ¨ æ–°å¢
â”‚   â”‚   â”œâ”€â”€ ChartService.js              âœ¨ æ–°å¢
â”‚   â”‚   â”œâ”€â”€ GoalSettingService.js        âœ¨ æ–°å¢
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ExampleSentenceView.js       âœ¨ æ–°å¢
â”‚   â”‚   â”œâ”€â”€ DataVisualizationView.js     âœ¨ æ–°å¢
â”‚   â”‚   â”œâ”€â”€ GoalSettingModal.js          âœ¨ æ–°å¢
â”‚   â”‚   â”œâ”€â”€ UserCenterView.js             âœï¸ ä¿®æ”¹
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ app.js                            âœï¸ ä¿®æ”¹
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ example-sentences.css            âœ¨ æ–°å¢
â”‚   â”œâ”€â”€ charts.css                       âœ¨ æ–°å¢
â”‚   â”œâ”€â”€ goal-setting.css                 âœ¨ æ–°å¢
â”‚   â””â”€â”€ ...
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ example_sentences.json           âœ¨ æ–°å¢ (ä¾‹å¥æ•°æ®)
â”‚   â””â”€â”€ ...
â””â”€â”€ supabase-schema-update-v2.2.sql      âœ¨ æ–°å¢
```

---

## ğŸ“ˆ é¢„æœŸæ•ˆæœ

| æŒ‡æ ‡ | V2.1åŸºå‡† | V2.2ç›®æ ‡ | æå‡ |
|------|---------|---------|------|
| å•è¯è®°å¿†æ•ˆæœ | åŸºå‡† | +150% | ä¾‹å¥è¯­å¢ƒåŒ–å­¦ä¹  |
| ç”¨æˆ·å­¦ä¹ æ—¶é•¿ | 15åˆ†é’Ÿ | 20åˆ†é’Ÿ | +33% |
| ç›®æ ‡å®Œæˆç‡ | 60% | 75% | +25% |
| ç”¨æˆ·å‚ä¸åº¦ | ä¸­ | é«˜ | +40% |
| å­¦ä¹ ç­–ç•¥è°ƒæ•´ | æ—  | æœ‰ | æ•°æ®é©±åŠ¨ |

**æ ¸å¿ƒæ´å¯Ÿ**:
1. **çœŸå®ä¾‹å¥** â†’ è¯­å¢ƒåŒ–å­¦ä¹  â†’ è®°å¿†æ•ˆæœæå‡150%
2. **æ•°æ®å¯è§†åŒ–** â†’ å­¦ä¹ æ´å¯Ÿ â†’ ç­–ç•¥ä¼˜åŒ– â†’ æ•ˆç‡æå‡
3. **ç›®æ ‡è®¾ç½®** â†’ ä¸ªæ€§åŒ–èŠ‚å¥ â†’ å®Œæˆç‡æå‡25%

---

## ğŸš€ å¼€å‘é‡Œç¨‹ç¢‘

### Week 1 (2025-12-10 ~ 2025-12-16)

**Day 1-2: æ•°æ®åº“å’Œæ•°æ®å‡†å¤‡**
- [ ] åˆ›å»º `example_sentences` è¡¨
- [ ] åˆ›å»º `goal_history` è¡¨
- [ ] å‡†å¤‡50ä¸ªé«˜é¢‘å•è¯çš„ä¾‹å¥æ•°æ®
- [ ] å¯¼å…¥åˆå§‹æ•°æ®åˆ°Supabase

**Day 3-4: ä¾‹å¥ç³»ç»Ÿå¼€å‘**
- [ ] åˆ›å»º `ExampleSentenceService.js`
- [ ] åˆ›å»º `ExampleSentenceView.js`
- [ ] å®ç°ä¾‹å¥å±•ç¤ºUI
- [ ] é›†æˆTTSè¯­éŸ³æ’­æ”¾
- [ ] æ·»åŠ æ ·å¼å’ŒåŠ¨ç”»

**Day 5-7: æ•°æ®å¯è§†åŒ–å¼€å‘**
- [ ] æ·»åŠ  Chart.js åº“
- [ ] åˆ›å»º `ChartService.js`
- [ ] åˆ›å»º `DataVisualizationView.js`
- [ ] å®ç°å­¦ä¹ æ›²çº¿å›¾
- [ ] å®ç°æ­£ç¡®ç‡è¶‹åŠ¿å›¾

### Week 2 (2025-12-17 ~ 2025-12-24)

**Day 8-10: æ•°æ®å¯è§†åŒ–å®Œå–„**
- [ ] å®ç°å­¦ä¹ æ—¶æ®µçƒ­åŠ›å›¾
- [ ] æ”¹é€ ç†Ÿç»ƒåº¦åˆ†å¸ƒä¸ºé¥¼å›¾
- [ ] æ·»åŠ å›¾è¡¨äº¤äº’åŠŸèƒ½
- [ ] å“åº”å¼é€‚é…
- [ ] æ€§èƒ½ä¼˜åŒ–

**Day 11-12: ç›®æ ‡è®¾ç½®åŠŸèƒ½**
- [ ] åˆ›å»º `GoalSettingService.js`
- [ ] åˆ›å»º `GoalSettingModal.js`
- [ ] å®ç°ç›®æ ‡æ¨èç®—æ³•
- [ ] å®ç°ç›®æ ‡å†å²è®°å½•
- [ ] UIé›†æˆå’Œæ ·å¼

**Day 13: æµ‹è¯•å’Œä¼˜åŒ–**
- [ ] åŠŸèƒ½æµ‹è¯•
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] Bugä¿®å¤
- [ ] ä»£ç å®¡æŸ¥

**Day 14: éƒ¨ç½²å’Œæ–‡æ¡£**
- [ ] æ‰©å±•ä¾‹å¥åº“åˆ°200ä¸ªå•è¯
- [ ] åˆ›å»ºéƒ¨ç½²æ–‡æ¡£
- [ ] Gitæäº¤å’Œæ¨é€
- [ ] GitHub Pageséƒ¨ç½²
- [ ] åˆ›å»ºV2.2æ€»ç»“æŠ¥å‘Š

---

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### 1. Web Speech APIé›†æˆ

```javascript
class TTSService {
  speak(text, lang = 'en-US', rate = 1.0) {
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.lang = lang;
    utterance.rate = rate;
    window.speechSynthesis.speak(utterance);
  }

  stop() {
    window.speechSynthesis.cancel();
  }
}
```

### 2. Chart.jsé…ç½®ç¤ºä¾‹

```javascript
// å­¦ä¹ æ›²çº¿å›¾
const learningCurveChart = new Chart(ctx, {
  type: 'line',
  data: {
    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
    datasets: [{
      label: 'å­¦ä¹ å•è¯æ•°',
      data: [12, 19, 15, 25, 22, 30, 28],
      borderColor: 'rgb(79, 70, 229)',
      backgroundColor: 'rgba(79, 70, 229, 0.1)',
      tension: 0.4
    }, {
      label: 'ç›®æ ‡',
      data: [20, 20, 20, 20, 20, 20, 20],
      borderColor: 'rgb(239, 68, 68)',
      borderDash: [5, 5]
    }]
  },
  options: {
    responsive: true,
    plugins: {
      legend: { position: 'top' },
      title: { display: true, text: 'æœ¬å‘¨å­¦ä¹ æ›²çº¿' }
    }
  }
});
```

### 3. ç›®æ ‡æ¨èç®—æ³•

```javascript
function recommendGoal(historicalData) {
  const completionRate = historicalData.completionRate;
  const currentGoal = historicalData.currentGoal;

  if (completionRate >= 0.9 && historicalData.consecutiveDays >= 7) {
    // è¿ç»­7å¤©å®Œæˆç‡90%+ â†’ æ¨èå¢åŠ 10è¯
    return Math.min(currentGoal + 10, 100);
  } else if (completionRate < 0.5 && historicalData.failedDays >= 3) {
    // è¿ç»­3å¤©å®Œæˆç‡<50% â†’ æ¨èé™ä½10è¯
    return Math.max(currentGoal - 10, 5);
  } else {
    // ç»´æŒå½“å‰ç›®æ ‡
    return currentGoal;
  }
}
```

---

## ğŸ“ æ–‡æ¡£æ¸…å•

å¼€å‘è¿‡ç¨‹ä¸­éœ€è¦åˆ›å»ºçš„æ–‡æ¡£ï¼š

1. **V2.2-å¼€å‘è®¡åˆ’.md** (æœ¬æ–‡æ¡£) âœ…
2. **V2.2-å®ç°è¿›åº¦.md** - è¯¦ç»†å®ç°æŒ‡å—
3. **V2.2-ä¾‹å¥æ•°æ®å‡†å¤‡æŒ‡å—.md** - ä¾‹å¥æ”¶é›†å’Œæ ¼å¼åŒ–
4. **V2.2-Chart.jsé›†æˆæŒ‡å—.md** - å›¾è¡¨å®ç°è¯¦è§£
5. **V2.2-åŠŸèƒ½æ£€æŸ¥æ¸…å•.md** - ç¬¬1æ¬¡ä»£ç æ£€æŸ¥
6. **V2.2-ç¬¬2æ¬¡åŠŸèƒ½æ£€æŸ¥.md** - ç¬¬2æ¬¡éœ€æ±‚éªŒè¯
7. **V2.2-æœ€ç»ˆæ€»ç»“.md** - å®Œæ•´å¼€å‘æ€»ç»“
8. **supabase-schema-update-v2.2.sql** - æ•°æ®åº“æ›´æ–°è„šæœ¬

---

## âš ï¸ é£é™©å’ŒæŒ‘æˆ˜

### 1. ä¾‹å¥æ•°æ®è´¨é‡
**é£é™©**: ä¾‹å¥ä¸å¤Ÿåœ°é“æˆ–åŒ…å«é”™è¯¯
**ç¼“è§£**:
- ä½¿ç”¨æƒå¨æ¥æºï¼ˆæŸ¯æ—æ–¯è¯å…¸ã€ç‰›æ´¥è¯å…¸ï¼‰
- äººå·¥å®¡æ ¸å‰50ä¸ªå•è¯
- æ”¶é›†ç”¨æˆ·åé¦ˆ

### 2. TTSå…¼å®¹æ€§
**é£é™©**: éƒ¨åˆ†æµè§ˆå™¨ä¸æ”¯æŒWeb Speech API
**ç¼“è§£**:
- æ£€æµ‹æµè§ˆå™¨æ”¯æŒ
- æä¾›é™çº§æ–¹æ¡ˆï¼ˆæ–‡æœ¬æ˜¾ç¤ºï¼‰
- æ¨èä½¿ç”¨Chrome/Edge

### 3. Chart.jsæ€§èƒ½
**é£é™©**: å¤§é‡æ•°æ®ç‚¹å¯¼è‡´æ¸²æŸ“æ…¢
**ç¼“è§£**:
- é™åˆ¶æ˜¾ç¤ºæœ€è¿‘30å¤©æ•°æ®
- ä½¿ç”¨æ•°æ®é‡‡æ ·
- æ‡’åŠ è½½å›¾è¡¨

### 4. ç›®æ ‡æ¨èç®—æ³•
**é£é™©**: æ¨èä¸å‡†ç¡®å½±å“ç”¨æˆ·ä½“éªŒ
**ç¼“è§£**:
- A/Bæµ‹è¯•ä¸åŒç®—æ³•
- å…è®¸ç”¨æˆ·å¿½ç•¥æ¨è
- æ”¶é›†åé¦ˆè¿­ä»£

---

## ğŸ¯ æˆåŠŸæ ‡å‡†

V2.2å¼€å‘å®Œæˆçš„æ ‡å‡†ï¼š

1. **åŠŸèƒ½å®Œæ•´æ€§** âœ…
   - [ ] 50ä¸ªå•è¯æœ‰å®Œæ•´ä¾‹å¥
   - [ ] æ‰€æœ‰å›¾è¡¨æ­£å¸¸æ˜¾ç¤º
   - [ ] ç›®æ ‡è®¾ç½®åŠŸèƒ½å¯ç”¨

2. **ä»£ç è´¨é‡** âœ…
   - [ ] æ‰€æœ‰ä»£ç æœ‰æ³¨é‡Š
   - [ ] é”™è¯¯å¤„ç†å®Œå–„
   - [ ] é€šè¿‡2è½®æ£€æŸ¥

3. **ç”¨æˆ·ä½“éªŒ** âœ…
   - [ ] å“åº”å¼è®¾è®¡å®Œç¾
   - [ ] åŠ¨ç”»æµç•…
   - [ ] åŠ è½½é€Ÿåº¦å¿« (<2ç§’)

4. **æ•°æ®å‡†ç¡®æ€§** âœ…
   - [ ] å›¾è¡¨æ•°æ®æ­£ç¡®
   - [ ] ç›®æ ‡æ¨èåˆç†
   - [ ] ä¾‹å¥ç¿»è¯‘å‡†ç¡®

5. **æ–‡æ¡£å®Œæ•´æ€§** âœ…
   - [ ] å¼€å‘æ–‡æ¡£é½å…¨
   - [ ] ç”¨æˆ·æŒ‡å—æ¸…æ™°
   - [ ] APIæ–‡æ¡£å®Œæ•´

---

## ğŸ“š å‚è€ƒèµ„æº

### Chart.js
- å®˜æ–¹æ–‡æ¡£: https://www.chartjs.org/docs/latest/
- ç¤ºä¾‹: https://www.chartjs.org/samples/latest/

### Web Speech API
- MDNæ–‡æ¡£: https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API
- æµè§ˆå™¨æ”¯æŒ: https://caniuse.com/speech-synthesis

### ä¾‹å¥æ¥æº
- æŸ¯æ—æ–¯è¯å…¸: https://www.collinsdictionary.com/
- ç‰›æ´¥è¯å…¸: https://www.oxfordlearnersdictionaries.com/
- Tatoeba: https://tatoeba.org/

---

**å‡†å¤‡å¼€å§‹V2.2å¼€å‘ï¼** ğŸš€

*è®¡åˆ’åˆ›å»ºæ—¶é—´: 2025-12-10*
*é¢„è®¡å®Œæˆæ—¶é—´: 2025-12-24*
*é¢„è®¡å·¥ä½œé‡: ~1800 lines*
